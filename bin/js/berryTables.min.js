function berryTable(e){function t(){return l.render()}function a(e,t){var a=this.files;window.FileReader?(!function(t){var a=new FileReader;a.readAsText(t),a.onload=function(t){var a=t.target.result,i=CSVToArray(a),s=!0;$("#myModal").remove();var n=$(templates.modal.render({title:"Importing CSV ",footer:'<div class="btn btn-danger" data-dismiss="modal">Cancel</div>',body:'<div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 0%"><span class="sr-only">50% Complete</span></div></div><div class="status">Validating Items...</div>'}));n.modal(),n.on("hidden.bs.modal",function(){this.importing=!1}.bind(this));var r=i.length-1,l=2*r,o=[];this.importing=!0;for(var d=1;d<i.length;d++){if(!this.importing)return!1;var c={};for(var h in i[0])c[i[0][h]]=i[d][h];var f=e.validate(c);if(!e.validate(c)){s=!1;break}o.push(f),n.find(".progress-bar").width(d/l*100+"%")}if(!s)return n.find(".btn").html("Done"),void n.find(".status").html('<div class="alert alert-danger">Error in row '+d+", failed to validate!</div>");n.find(".status").html("Adding Items...");for(var d=0;d<o.length;d++){if(!this.importing)return!1;e.add(o[d]),n.find(".progress-bar").width((d+r)/l*100+"%")}n.find(".status").html('<div class="alert alert-success">Successfully added '+r+", rows!</div>"),n.find(".btn").toggleClass("btn-danger btn-success").html("Done"),n.find(".progress").hide()},a.onerror=function(e){"NotReadableError"==e.target.error.name&&alert("Canno't read file !")}}(a[0]),t.currentTarget.value=""):alert("FileReader are not supported in this browser.")}function i(t){if(this.$el=t,this.$el.on("click","#columnEnables label",function(e){e.stopPropagation(),_.findWhere(this.summary.items,{id:e.currentTarget.dataset.field}).isEnabled=e.currentTarget.childNodes[0].checked,this.draw()}.bind(this)),this.$el.on("change",".csvFileInput",_.partial(a,this)),this.$el.on("click",'[name="bt-upload"]',function(){this.$el.find(".csvFileInput").click()}.bind(this)),this.$el.on("click",'[data-event="delete"]',function(e){$(e.target).closest(".dropdown-menu").toggle();var t=_.findWhere(this.models,{id:e.currentTarget.dataset.id});confirm("Are you sure you want to delete? \nThis operation can not be undone.\n\n"+_.values(t.attributes).join("\n"))&&("function"==typeof this.options.delete&&this.options.delete(t),t.delete(),this.draw())}.bind(this)),this.$el.on("click",'[data-event="delete_all"]',function(){var e=_.where(this.models,{checked:!0});e.length&&confirm("Are you sure you want to delete "+e.length+" records? \nThis operation can not be undone.\n\n")&&(_.each(e,function(e){"function"==typeof this.options.delete&&this.options.delete(e),e.delete()}.bind(this)),this.draw())}.bind(this)),this.$el.on("click","[data-event].custom-event-all",$.proxy(function(e){e.stopPropagation();var t=_.findWhere(this.options.events,{name:e.target.dataset.event});"undefined"!=typeof t&&"function"==typeof t.callback&&t.callback(_.where(this.models,{checked:!0})[0])},this)),this.$el.on("click",'[data-event="edit_all"]',$.proxy(function(e){e.stopPropagation(),$().berry($.extend(!0,{},{name:"modal",legend:'<i class="fa fa-pencil-square-o"></i> Edit',model:_.where(this.models,{checked:!0})[0]},this.options.berry||{})).on("saved",function(){"function"==typeof this.options.edit&&this.options.edit(_.where(this.models,{checked:!0})[0]),this.draw()},this)},this)),this.$el.on("change",'[name="count"]',function(t){e.count=parseInt($(t.currentTarget).val(),10),this.draw()}.bind(this)),this.$el.on("input",'[name="search"]',_.debounce(function(){this.draw()}.bind(this),300)),this.$el.on("click",'[data-event="select_all"]',function(){var e=_.where(this.models,{checked:!0});e.length?(_.each(e,function(e){e.checked=!1}),this.draw(),this.$el.find('[data-event="select_all"].fa').attr("class","fa fa-fw fa-2x fa-square-o")):(_.each(this.filtered,function(e){e.checked=!0}),this.draw(),this.summary.checked_count==this.models.length?this.$el.find('[data-event="select_all"].fa').attr("class","fa fa-fw fa-2x fa-check-square-o"):this.$el.find('[data-event="select_all"].fa').attr("class","fa fa-fw fa-2x fa-minus-square-o"))}.bind(this)),t.find(".filter").length&&(this.filter=t.find(".filter").berry({name:"filter",renderer:"inline",attributes:this.defaults,disableMath:!0,suppress:!0,fields:e.filterFields}).on("change",function(){this.$el.find('[name="search"]').val(""),this.draw()},this)),e.data)for(var i in e.data)this.models.push(new tableModel(this,e.data[i]).on("check",function(){this.summary.checked_count=_.where(this.models,{checked:!0}).length,this.summary.multi_checked=this.summary.checked_count>1,this.$el.find('[name="events"]').html(templates.events.render(this.summary,templates));var e=this.$el.find('[data-event="select_all"].fa');this.summary.checked_count==this.models.length?e.attr("class","fa fa-2x fa-fw fa-check-square-o"):0==this.summary.checked_count?e.attr("class","fa fa-2x fa-fw fa-square-o"):e.attr("class","fa fa-2x fa-fw fa-minus-square-o")}.bind(this)));this.$el.on("click","[data-page]",s.bind(this)),this.$el.on("click","[data-sort]",n.bind(this)),this.$el.on("click",'[name="reset-search"]',function(){this.$el.find('[name="search"]').val(""),e.sort=null,this.$el.find("[data-sort]").removeClass("text-primary"),this.$el.find("[data-sort]").find("i").attr("class","fa fa-sort text-muted"),o.call(this.filter,this.defaults),this.draw()}.bind(this)),this.$el.on("click",'[name="bt-download"]',function(){this.getCSV()}.bind(this)),this.$el.find('[data-event="add"]').on("click",$.proxy(function(){$().berry($.extend(!0,{},{name:"modal",legend:'<i class="fa fa-pencil-square-o"></i> Create New',fields:e.schema},e.berry||{})).on("save",function(){if(Berries.modal.validate()){var e=new tableModel(this,Berries.modal.toJSON()).on("check",function(){this.summary.checked_count=_.where(this.models,{checked:!0}).length,this.summary.multi_checked=this.summary.checked_count>1,this.$el.find('[name="events"]').html(templates.events.render(this.summary,templates));var e=this.$el.find('[data-event="select_all"].fa');this.summary.checked_count==this.models.length?e.attr("class","fa fa-2x fa-fw fa-check-square-o"):0==this.summary.checked_count?e.attr("class","fa fa-2x fa-fw fa-square-o"):e.attr("class","fa fa-2x fa-fw fa-minus-square-o")}.bind(this));this.models.push(e),Berries.modal.trigger("saved"),this.draw(),"function"==typeof this.options.add&&this.options.add(e)}},this)},this)),this.draw()}this.draw=function(){_.each(this.summary.items,function(e){$(".filter #"+e.id+",[data-sort="+e.id+"]").toggle(e.isEnabled)}),e.search=_.compactObject(this.filter.toJSON());var t=e.pagebuffer||2;this.$el.find('[name="search"]').val().length?this.searchAll(this.$el.find('[name="search"]').val()):this.search(e);var a={};e.pagecount=Math.ceil(this.lastGrabbed/e.count),a.pages=[],e.page>e.pagecount&&(e.page=e.pagecount||1);var i=this.lastGrabbed>e.count*e.page?e.count*e.page:this.lastGrabbed,s=$('<tbody class="list-group">');_.each(this.grab(e),function(e){new viewitem({model:e,container:s,summary:r})});var n=(this.$el.find(".list-group").empty().replaceWith(s),e.page-t);1>n&&(n=1);var l=e.page+t;l>e.pagecount&&(l=e.pagecount);for(var o=n;l>=o;o++){var d={name:o};e.page==o&&(d.active="active"),a.pages.push(d)}a.size=this.lastGrabbed,a.last=i,a.first=e.count*(e.page-1)+1,a.multiPage=l>n,a.isFirst=1==e.page,a.isLast=e.page==e.pagecount,a.showLast=e.pagecount==l,a.showFirst=1==n,a.checked_count=_.where(this.models,{checked:!0}).length,a.entries=_.map(e.entries,function(t){return{value:t,selected:t==e.count}},e),this.renderObj=a,this.$el.find(".paginate-footer").html(templates.table_footer.render(this.renderObj,templates)),this.summary.checked_count=_.where(this.models,{checked:!0}).length,this.summary.multi_checked=this.summary.checked_count>1,this.$el.find('[name="events"]').html(templates.events.render(this.summary,templates)),this.fixStyle()};var s=function(t){t.stopPropagation(),t.preventDefault(),"inc"==$(t.currentTarget).data("page")?(e.page++,e.page>e.pagecount&&(e.page=e.pagecount)):"dec"==$(t.currentTarget).data("page")?(e.page--,e.page<1&&(e.page=1)):e.page=$(t.currentTarget).data("page")||e.pagecount,this.draw()},n=function(t){t.stopPropagation(),t.preventDefault(),$(t.currentTarget).siblings("[data-sort]").removeClass("text-primary"),$(t.currentTarget).siblings("[data-sort]").find("i").attr("class","fa fa-sort text-muted"),$(t.currentTarget).addClass("text-primary");var a=_.findWhere(this.options.filterFields,{name:$(t.currentTarget).data("sort")}).search;e.reverse=e.sort==a?!e.reverse:!1,e.reverse?$(t.currentTarget).find("i").attr("class","fa fa-sort-asc"):$(t.currentTarget).find("i").attr("class","fa fa-sort-desc"),e.sort=a,this.draw()},e=$.extend({count:e.count||25,page:1,sort:"createdAt",reverse:!1},e);e.schema=_.map(_.map(e.schema,Berry.processOpts),function(e){return e.value=e.value||e.default,delete e.default,e}),"undefined"!=typeof e.filters&&(e.filters=_.map(e.filters,Berry.processOpts)),e.filterFields=_.map($.extend(!0,{},e.filters||e.schema),function(e){switch(e=Berry.normalizeItem(e),name=e.name,e.type){case"textarea":case"contenteditable":case"ace":case"color":case"date":case"number":case"email":e.type="text";break;case"checkbox":e.choices=[{label:e.falsestate||"False",value:e.falsestate||"false"},{label:e.truestate||"True",value:e.truestate||"True"}];case"radio":e.type="select";case"select":e.default={label:"No Filter",value:""},e.value=""}return e.options&&(e.options=_.map(e.options,function(e){return _.omit(e,"selected")})),e.id=e.id||Berry.getUID(),e.search=e.name,e.name=e.id,e.show={},e.enabled=!0,e}),"object"==typeof e.columns&&(e.filterFields=_.filter(e.filterFields,function(t){return _.contains(e.columns,t.name)||_.contains(e.columns,t.id)}));var r={start:"{{",end:"}}",checked_count:0,multi_checked:!1,items:_.map(e.filterFields,function(t){var a=t.search||t.label.split(" ").join("_").toLowerCase();if(t.template)a=t.template.replace(/{{value}}/gi,"{{attributes."+a+"}}");else switch(t.type){case"date":a='<span data-moment="{{attributes.'+a+'}}" data-format="L"></span>';break;case"select":a=e.inlineEdit?'<span data-popins="'+a+'"></span>':"{{attributes."+a+"}}";break;case"color":a='<div class="btn btn-default" style="background-color:{{attributes.'+a+'}}">{{attributes.'+a+"}}</div> {{attributes."+a+"}}";break;default:a="{{attributes."+a+"}}"}return{isEnabled:"undefined"==typeof t.showColumn||t.showColumn,label:t.label,name:a,cname:t.name||t.label.split(" ").join("_").toLowerCase(),id:t.id,visible:!("hidden"==t.type)}})};e.hasActions=!!(e.edit||e.delete||e.events),e.hasEdit=!!e.edit,e.hasDelete=!!e.delete,e.entries=e.entries||[25,50,100],r.options=e,r.showAdd=!!e.add,this.defaults={},_.map(e.filterFields,function(e){switch(e.type){case"text":e.value="";break;case"checkbox":e.value="false";case"radio":e.value="";case"select":e.value=""}this.defaults[e.name]=e.value}.bind(this)),this.summary=r;var l=Hogan.compile(templates.table.render(r,templates)),o=function(e){this.each(function(e){this.isContainer||this.setValue(Berry.search(e,this.getPath()))},[e],this.fields)};this.validate=function(t){var a=!1,i=this.$el.find(".hiddenForm").berry({fields:e.schema,attributes:t});return i.validate()?a=i.toJSON():console.log("Model not valid"),i.destroy(),a},this.add=function(t){var a=new tableModel(this,t),i=this.$el.find(".hiddenForm").berry({fields:e.schema,model:a});i.validate()?(this.models.push(a),this.draw(),"function"==typeof this.options.add&&this.options.add(a)):console.log("Model not valid"),i.destroy()},this.search=function(e){var t=_.sortBy(this.models,function(t){return t.attributes[e.sort]});e.reverse||(t=t.reverse()),filterMap=this.filterMap,t=_.filter(t,function(t){var a=$.isEmptyObject(e.search);for(var i in e.search){var s;if(s="undefined"==typeof _.where(e.filterFields,{id:i})[0].options?$.score((t.attributes[this.filterMap[i]]+"").replace(/\s+/g," ").toLowerCase(),(e.search[i]+"").toLowerCase())>.4:t.attributes[this.filterMap[i]]+""==e.search[i]+"",a=s,!a)break}return a}),this.lastGrabbed=t.length,this.filtered=t},this.searchAll=function(t){e.sort=null,this.$el.find("[data-sort]").removeClass("text-primary"),this.$el.find("[data-sort]").find("i").attr("class","fa fa-sort text-muted"),o.call(this.filter,this.defaults),t=t.toLowerCase(),_.map(this.models,function(a){a.score=0;for(var i in e.filterFields)a.score+=$.score((a.attributes[e.filterFields[i].search]+"").replace(/\s+/g," ").toLowerCase(),t)}),this.filtered=_.filter(_.sortBy(this.models,"score"),function(e){return e.score>0}).reverse(),this.lastGrabbed=this.filtered.length},this.fixStyle=function(){if(this.options.autoSize)try{this.$el.find(".table-container > div").css("width","auto"),this.$el.find(".table-container > div").css("minWidth","auto"),this.$el.find(".table-container > div").css("height",$(window).height()-$(".table-container > div").offset().top-(88+this.options.autoSize)+"px"),_.each(this.$el.find(".list-group tr:first td"),function(e,t){this.$el.find(".table-container > table tr th:visible")[t].style.width=e.offsetWidth+"px",this.$el.find(".table-container > table tr th:visible")[t].style.minWidth=e.offsetWidth+"px"}.bind(this)),this.$el.find(".table-container > div").css("width",this.$el.find(".table-container > div table")[0].offsetWidth+"px"),this.$el.find(".table-container > div").css("minWidth",this.$el.find(".table-container > div table")[0].offsetWidth+"px")}catch(e){}},this.grab=function(e){return this.filtered.slice(e.count*(e.page-1),e.count*(e.page-1)+e.count)},this.models=[],this.options=e,this.filterMap={},_.map(e.filterFields,function(e){this.filterMap[e.id]=e.search}.bind(this));$(e.container).html(t.call(this)),i.call(this,$(e.container)),this.getCSV=function(e){this.filterMap,csvify(_.map(this.filtered,function(e){return e.attributes}),_.map(_.filter(this.summary.items,function(e){return e.isEnabled}),function(e){return{label:e.label,name:this.filterMap[e.cname]}}),e||this.options.title)},this.$el.find('[name="search"]').focus(),this.$el.find(".table-container > div").css("overflow","auto"),$(window).on("resize orientationChange",this.fixStyle.bind(this))} function CSVToArray(e,n){n=n||",";for(var t=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),r=[[]],l=null;l=t.exec(e);){var i=l[1];i.length&&i!==n&&r.push([]);var a;a=l[2]?l[2].replace(new RegExp('""',"g"),'"'):l[3],r[r.length-1].push(a)}return r}_.mixin({compactObject:function(e){return _.each(e,function(n,t){n||0===n||delete e[t]}),e}}),function(e){e.score=function(n,t,r){if(0===t.length)return.9;if(t.length>n.length)return 0;for(var l=t.length;l>0;l--){var i=t.substring(0,l),a=n.indexOf(i);if(!(0>a||a+t.length>n.length+r)){var c=n.substring(a+i.length),u=null;u=l>=t.length?"":t.substring(l);var o=e.score(c,u,r+a);if(o>0){var h=n.length-c.length;if(0!==a){var s=n.charCodeAt(a-1);if(32==s||9==s)for(var g=a-2;g>=0;g--)s=n.charCodeAt(g),h-=32==s||9==s?1:.15;else h-=a}return h+=o*c.length,h/=n.length}}}return 0}}(jQuery),csvify=function(e,n,t){var r='"'+_.pluck(n,"label").join('","')+'"\n';this.labels=_.pluck(n,"name"),r+=_.map(e,function(e){return JSON.stringify(_.values(_.pick(e,this.labels)))},this).join("\n").replace(/(^\[)|(\]$)/gm,"");var l=document.createElement("a");l.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(r)),l.setAttribute("download",(t||"berryTable")+".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}; function tableModel(t,e){this.owner=t,this.id=Berry.getUID(),this.attributes={},this.schema=t.options.schema,this.set=function(t){this.attributes=t},this.checked=!1,$.extend(!0,this.attributes,e),this.toJSON=function(){return this.attributes},this.delete=function(){this.owner.models.splice(_.indexOf(_.pluck(this.owner.models,"id"),this.id),1)},this.events={initialize:[]},this.addSub=Berry.prototype.addSub,this.on=Berry.prototype.on,this.off=Berry.prototype.off,this.trigger=Berry.prototype.trigger} function viewitem(t){this.update=function(){"undefined"!=typeof this.berry&&this.berry.destroy(),this.$el.find("[data-event]").off(),this.$el.off(),this.$el.replaceWith(this.setElement(this.view.render(this.model,templates)).$el),this.$el.find("[data-popins]").length>0&&(this.berry=this.$el.berry({popins:{container:"#first",viewport:{selector:"body",padding:20}},renderer:"popins",model:this.model})),"function"==typeof this.model.owner.options.click&&this.$el.on("click",function(t){"undefined"==typeof t.target.dataset.event&&this.model.owner.options.click(this.model)}.bind(this)),this.$el.find("[data-event].custom-event").on("click",$.proxy(function(t){t.stopPropagation(),$(t.target).closest(".dropdown-menu").toggle();var e=_.findWhere(this.model.owner.options.events,{name:t.target.dataset.event});"undefined"!=typeof e&&"function"==typeof e.callback&&e.callback(this.model)},this)),this.$el.find(".btn-group > .dropdown-toggle").on("click",function(t){t.stopPropagation(),$(this).next(".dropdown-menu").toggle()}),this.$el.find('[data-event="edit"]').on("click",$.proxy(function(t){t.stopPropagation(),$(t.target).closest(".dropdown-menu").toggle(),$().berry($.extend(!0,{},{name:"modal",legend:'<i class="fa fa-pencil-square-o"></i> Edit',model:this.model},this.model.owner.options.berry||{})).on("saved",function(){"function"==typeof this.model.owner.options.edit&&this.model.owner.options.edit(this.model),this.update()},this)},this)),this.$el.find('[data-event="mark"]').on("click",$.proxy(function(t){t.stopPropagation(),this.model.checked=t.currentTarget.checked,this.model.trigger("check")},this)),this.$el.find("[data-moment]").each(function(){$(this).html(moment.utc($(this).data("moment")).format($(this).data("format")))}),this.$el.find(".sparkline").each(function(){$(this).peity($(this).data("type"),{radius:$(this).data("radius")})})},this.view=Hogan.compile(templates.table_row.render(t.summary,templates)),this.setElement=function(t){return this.$el=$(t),this},this.model=t.model,this.$el=$("<tr>"),t.container&&t.container.append(this.$el),this.model.on("change",this.update,this),this.model.on("destroy",$.proxy(function(){this.$el.fadeOut("fast",$.proxy(function(){this.remove()},this))},this)),this.update()} if(!templates)var templates={};templates.events=new Hogan.Template({code:function(t,n,a){var b=this;return b.b(a=a||""),b.b("<div>"),b.b("\n"+a),b.s(b.d("options.hasDelete",t,n,1),t,n,0,29,323,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('	<!-- <div data-event="add" class="btn btn-success"><i class="fa fa-pencil-square-o"></i> New</div> -->'),b.b("\n"+a),b.b('	<a href="javascript:void(0);" data-event="delete_all" class="btn btn-danger '),b.s(b.f("checked_count",t,n,1),t,n,1,0,0,"")||b.b("disabled"),b.b('" style="margin-right:15px"><i class="fa fa-times"></i> Delete</a>'),b.b("\n"+a)}),t.pop()),b.b('	<div class="btn-group"role="group" aria-label="...">'),b.b("\n"),b.b("\n"+a),b.b("	    "),b.s(b.d("options.hasEdit",t,n,1),t,n,0,426,657,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b('<a href="javascript:void(0);" data-event="edit_all" class="btn btn-primary '),a.s(a.f("checked_count",t,n,1),t,n,1,0,0,"")||a.b("disabled"),a.s(a.f("multi_checked",t,n,1),t,n,0,563,571,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.b("disabled")}),t.pop()),a.b('" data-id="'),a.b(a.v(a.f("start",t,n,0))),a.b("id"),a.b(a.v(a.f("end",t,n,0))),a.b('"><i class="fa fa-pencil"></i> Edit</a>')}),t.pop()),b.b("\n"),b.b("\n"+a),b.s(b.d("options.events",t,n,1),t,n,0,703,942,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('	    	<a href="javascript:void(0);" data-event="'),b.b(b.v(b.f("name",t,n,0))),b.b('" class="custom-event-all btn btn-default '),b.s(b.f("checked_count",t,n,1),t,n,1,0,0,"")||b.b("disabled"),b.s(b.f("multi_checked",t,n,1),t,n,0,864,872,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b("disabled")}),t.pop()),b.b('" data-id="'),b.b(b.v(b.f("start",t,n,0))),b.b("id"),b.b(b.v(b.f("end",t,n,0))),b.b('">'),b.b(b.t(b.f("label",t,n,0))),b.b("</a>"),b.b("\n"+a)}),t.pop()),b.b("\n"+a),b.b("	</div>"),b.b("\n"+a),b.b("		"),b.s(b.f("checked_count",t,n,1),t,n,0,991,1102,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b('<h5 class="range badge alert-info checked_count" style="margin:0 15px;">'),a.b(a.v(a.f("checked_count",t,n,0))),a.b(" item(s) selected</h5>")}),t.pop()),b.b("\n"+a),b.b("</div>"),b.fl()},partials:{},subs:{}}),templates.table=new Hogan.Template({code:function(t,n,a){var b=this;return b.b(a=a||""),b.b('<div class="well" style="background:#fff">'),b.b("\n"+a),b.b('	<div style="height:40px">'),b.b("\n"+a),b.b('		<input type="file" class="csvFileInput" accept=".csv" style="display:none">'),b.b("\n"),b.b("\n"+a),b.b('		<div class="hiddenForm" style="display:none"></div>'),b.b("\n"+a),b.b('		<div class="btn-group pull-right" style="margin-bottom:10px" role="group" aria-label="...">'),b.b("\n"+a),b.s(b.f("showAdd",t,n,1),t,n,0,312,413,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('			<div data-event="add" class="btn btn-success"><i class="fa fa-pencil-square-o"></i> New</div>'),b.b("\n"+a)}),t.pop()),b.b("\n"+a),b.b('			<div class="btn btn-default" name="bt-download" data-toggle="tooltip" data-placement="left" title="Download"><i class="fa fa-download"></i></div>'),b.b("\n"+a),b.b('			<div class="btn btn-default" name="bt-upload" data-toggle="tooltip" data-placement="left" title="Upload"><i class="fa fa-upload"></i></div>'),b.b("\n"),b.b("\n"+a),b.b('			<div name="reset-search" class="btn btn-default" data-toggle="tooltip" data-placement="left" title="Clear Filters">'),b.b("\n"+a),b.b('				<i class="fa fa-filter"></i>'),b.b("\n"+a),b.b('				<i class="fa fa-times text-danger" style="position: absolute;right: 5px;"></i>'),b.b("\n"+a),b.b("			</div>"),b.b("\n"+a),b.b('			<div class="btn-group" id="columnEnables" data-toggle="tooltip" data-placement="left" title="Display Columns">'),b.b("\n"+a),b.b('			  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">'),b.b("\n"+a),b.b('			    <i class="fa fa-list"></i>'),b.b("\n"+a),b.b('			    <span class="caret"></span>'),b.b("\n"+a),b.b("			  </button>"),b.b("\n"+a),b.b('			  <ul class="dropdown-menu pull-right" style="padding-top:10px" aria-labelledby="dropdownMenu1">'),b.b("\n"+a),b.s(b.f("items",t,n,1),t,n,0,1431,1677,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.s(b.f("visible",t,n,1),t,n,0,1450,1657,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('			    <li><label data-field="'),b.b(b.v(b.f("id",t,n,0))),b.b('" style="width:100%;font-weight:normal"><input type="checkbox" '),b.s(b.f("isEnabled",t,n,1),t,n,0,1564,1581,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b('checked="checked"')}),t.pop()),b.b(' style="margin: 5px 0 5px 15px;"> '),b.b(b.v(b.f("label",t,n,0))),b.b("</label></li>"),b.b("\n"+a)}),t.pop())}),t.pop()),b.b("			  </ul>"),b.b("\n"+a),b.b("			</div>"),b.b("\n"+a),b.b("		</div>"),b.b("\n"),b.b("\n"+a),b.b('		<div name="events" class=" pull-left" style="margin-bottom:10px" >'),b.b("\n"),b.b("\n"+a),b.b("		</div>"),b.b("\n"),b.b("\n"+a),b.b('		<!-- <div class="input-group pull-right" style="max-width:300px; margin-right:15px"> -->'),b.b("\n"+a),b.b('				<input type="text" name="search" class="form-control pull-right" style="max-width:300px; margin-right:15px" placeholder="Search">'),b.b("\n"+a),b.b('				<!-- <span class="input-group-addon"><i class="fa fa-search"></i></span> -->'),b.b("\n"),b.b("\n"+a),b.b("		<!-- </div> -->"),b.b("\n"+a),b.b("	</div>	"),b.b("\n"),b.b("\n"+a),b.s(b.d("options.autoSize",t,n,1),t,n,1,0,0,"")||(b.b('	<div class="paginate-footer" style="overflow:hidden;margin-top:10px;clear:both"></div>'),b.b("\n"+a)),b.b("\n"+a),b.b('	<div class="table-container" style="width:100%;overflow:auto">'),b.b("\n"+a),b.s(b.d("options.autoSize",t,n,1),t,n,0,2359,3239,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b("\n"+a),b.b('		<table class="table '),b.s(b.d("options.noborder",t,n,1),t,n,1,0,0,"")||b.b("table-bordered"),b.b('" style="margin-bottom:0px">'),b.b("\n"),b.b("\n"+a),b.b("			<thead>"),b.b("\n"+a),b.b('			<tr style="background:#fff;cursor:pointer" class="noselect">'),b.b("\n"+a),b.s(b.d("options.hasActions",t,n,1),t,n,0,2571,2725,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('				<th style="width: 60px;min-width:60px;padding: 0 0 0 10px;">											 <i data-event="select_all" class="fa fa-fw fa-2x fa-square-o"></i>'),b.b("\n"+a),b.b("</th>"),b.b("\n"+a)}),t.pop()),b.b("\n"+a),b.b("				"),b.s(b.f("items",t,n,1),t,n,0,2764,2930,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.s(a.f("visible",t,n,1),t,n,0,2776,2918,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.b('<th data-sort="'),a.b(a.v(a.f("cname",t,n,0))),a.b('"><h6 style="margin: 2px;font-size:13px;white-space: nowrap"><i class="fa fa-sort text-muted"></i> '),a.b(a.v(a.f("label",t,n,0))),a.b("</h6></th>")}),t.pop())}),t.pop()),b.b("\n"),b.b("\n"+a),b.b("			</tr>				"),b.b("\n"+a),b.b('			<tr style="background:#fff;" class="filter">'),b.b("\n"+a),b.s(b.d("options.hasActions",t,n,1),t,n,0,3032,3063,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b("\n"+a),b.b("				<td>"),b.b("\n"),b.b("\n"+a),b.b("				</td>										")}),t.pop()),b.b("\n"),b.b("\n"+a),b.b("		"),b.s(b.f("items",t,n,1),t,n,0,3100,3192,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.s(a.f("visible",t,n,1),t,n,0,3112,3180,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.b('<td data-inline="'),a.b(a.v(a.f("cname",t,n,0))),a.b('" style="min-width:85px" id="'),a.b(a.v(a.f("id",t,n,0))),a.b('"></td>')}),t.pop())}),t.pop()),b.b("\n"),b.b("\n"+a),b.b("			</tr>"),b.b("\n"+a),b.b("		</thead>"),b.b("\n"+a),b.b("		</table>"),b.b("\n"+a)}),t.pop()),b.b("\n"),b.b("\n"+a),b.b('<div style="min-height:100px">'),b.b("\n"+a),b.b('	<table class="table '),b.s(b.d("options.noborder",t,n,1),t,n,1,0,0,"")||b.b("table-bordered"),b.b(' table-striped table-hover dataTable" style="margin-bottom:0px">'),b.b("\n"+a),b.s(b.d("options.autoSize",t,n,1),t,n,1,0,0,"")||(b.b("					<thead>"),b.b("\n"+a),b.b('			<tr style="background:#fff;cursor:pointer" class="noselect">'),b.b("\n"+a),b.s(b.d("options.hasActions",t,n,1),t,n,0,3566,3723,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b("\n"+a),b.b('				<th style="width: 60px;min-width:60px;padding: 0 0 0 10px;">											 <i data-event="select_all" class="fa fa-fw fa-2x fa-square-o"></i>'),b.b("\n"+a),b.b("</th>"),b.b("\n"+a)}),t.pop()),b.b("\n"),b.b("\n"+a),b.b("				"),b.s(b.f("items",t,n,1),t,n,0,3763,3957,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.s(a.f("visible",t,n,1),t,n,0,3775,3945,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.s(a.f("isEnabled",t,n,1),t,n,0,3789,3931,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.b('<th data-sort="'),a.b(a.v(a.f("cname",t,n,0))),a.b('"><h6 style="margin: 2px;font-size:13px;white-space: nowrap"><i class="fa fa-sort text-muted"></i> '),a.b(a.v(a.f("label",t,n,0))),a.b("</h6></th>")}),t.pop())}),t.pop())}),t.pop()),b.b("\n"),b.b("\n"+a),b.b("			</tr>				"),b.b("\n"+a),b.b('			<tr style="background:#fff;" class="filter">'),b.b("\n"+a),b.s(b.d("options.hasActions",t,n,1),t,n,0,4059,4090,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b("\n"+a),b.b("				<td>"),b.b("\n"),b.b("\n"+a),b.b("				</td>										")}),t.pop()),b.b("			"),b.b("\n"+a),b.b("		"),b.s(b.f("items",t,n,1),t,n,0,4129,4249,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.s(a.f("visible",t,n,1),t,n,0,4141,4237,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.s(a.f("isEnabled",t,n,1),t,n,0,4155,4223,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.b('<td data-inline="'),a.b(a.v(a.f("cname",t,n,0))),a.b('" style="min-width:85px" id="'),a.b(a.v(a.f("id",t,n,0))),a.b('"></td>')}),t.pop())}),t.pop())}),t.pop()),b.b("\n"),b.b("\n"+a),b.b("			</tr>"),b.b("\n"+a),b.b("		</thead>"),b.b("\n"+a)),b.b("\n"+a),b.b('		<tbody class="list-group">'),b.b("\n"+a),b.b("			<tr><td>"),b.b("\n"+a),b.b('				<div class="alert alert-info" role="alert">You have no items.</div>'),b.b("\n"+a),b.b("			</td></tr>"),b.b("\n"+a),b.b("		</tbody>"),b.b("\n"),b.b("\n"+a),b.b("	</table>"),b.b("\n"+a),b.b("</div>"),b.b("\n"),b.b("\n"),b.b("\n"+a),b.b("</div>"),b.b("\n"+a),b.b('	<div class="paginate-footer" style="overflow:hidden;margin-top:10px"></div>'),b.b("\n"+a),b.b("<div>"),b.fl()},partials:{},subs:{}}),templates.table_footer=new Hogan.Template({code:function(t,n,a){var b=this;return b.b(a=a||""),b.b("<div>"),b.b("\n"+a),b.s(b.f("multiPage",t,n,1),t,n,0,21,930,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('	<nav class="pull-right" style="margin-left: 10px;">'),b.b("\n"+a),b.s(b.f("size",t,n,1),t,n,0,85,910,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('		<ul class="pagination" style="margin:0">'),b.b("\n"+a),b.s(b.f("isFirst",t,n,1),t,n,1,0,0,"")||(b.b("			"),b.s(b.f("showFirst",t,n,1),t,n,1,0,0,"")||b.b('<li class="pagination-first"><a data-page="1" href="javascript:void(0);" aria-label="First"><span aria-hidden="true">&laquo;</span></a></li>'),b.b("\n"+a),b.b('			<li><a data-page="dec" href="javascript:void(0);" aria-label="Previous"><span aria-hidden="true">&lsaquo;</span></a></li>'),b.b("\n"+a)),b.s(b.f("pages",t,n,1),t,n,0,471,571,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('				<li class="'),b.b(b.v(b.f("active",t,n,0))),b.b('"><a data-page="'),b.b(b.v(b.f("name",t,n,0))),b.b('" href="javascript:void(0);">'),b.b(b.v(b.f("name",t,n,0))),b.b("</a></li>"),b.b("\n"+a)}),t.pop()),b.s(b.f("isLast",t,n,1),t,n,1,0,0,"")||(b.b('			<li><a data-page="inc" href="javascript:void(0);" aria-label="Next"><span aria-hidden="true">&rsaquo;</span></a></li>'),b.b("\n"+a),b.b("			"),b.s(b.f("showLast",t,n,1),t,n,1,0,0,"")||b.b('<li class="pagination-last"><a data-page="" href="javascript:void(0);" aria-label="Last"><span aria-hidden="true">&raquo;</span></a></li>'),b.b("\n"+a)),b.b("\n"+a),b.b("		</ul>"),b.b("\n"+a)}),t.pop()),b.b("	</nav>"),b.b("\n"),b.b("\n"+a)}),t.pop()),b.b('	<h5 class="range badge '),b.s(b.f("size",t,n,1),t,n,1,0,0,"")||b.b("alert-danger"),b.b(' pull-left" style="margin-right:15px;">'),b.s(b.f("size",t,n,1),t,n,0,1048,1097,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b("Showing "),a.b(a.v(a.f("first",t,n,0))),a.b(" to "),a.b(a.v(a.f("last",t,n,0))),a.b(" of "),a.b(a.v(a.f("size",t,n,0))),a.b(" results")}),t.pop()),b.s(b.f("size",t,n,1),t,n,1,0,0,"")||b.b("No matching results"),b.b("</h5>"),b.b("\n"),b.b("\n"+a),b.b('		<span class="pull-left">'),b.b("\n"+a),b.b('			<select class="form-control" style="display:inline-block;width:auto;min-width:50px" name="count">'),b.b("\n"+a),b.b('			<option value="10000">All</option>'),b.b("\n"+a),b.s(b.f("entries",t,n,1),t,n,0,1331,1429,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b('			<option value="'),b.b(b.v(b.f("value",t,n,0))),b.b('" '),b.s(b.f("selected",t,n,1),t,n,0,1374,1393,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b('selected="selected"')}),t.pop()),b.b(">"),b.b(b.v(b.f("value",t,n,0))),b.b("</option>"),b.b("\n"+a)}),t.pop()),b.b("\n"+a),b.b("			</select>"),b.b("\n"+a),b.b("			results per page"),b.b("\n"+a),b.b("		</span>"),b.b("\n"+a),b.b("</div>"),b.fl()},partials:{},subs:{}}),templates.table_row=new Hogan.Template({code:function(t,n,a){var b=this;return b.b(a=a||""),b.b('<tr class="filterable">		'),b.b("\n"+a),b.s(b.d("options.hasActions",t,n,1),t,n,0,50,1037,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b("\n"+a),b.b('	<td style="width: 60px;min-width:60px;">'),b.b("\n"+a),b.b('<!-- 		<div class="btn-group">'),b.b("\n"+a),b.b('		  <button type="button" class="btn btn-xs btn-info go">Actions</button>'),b.b("\n"+a),b.b('		  <button type="button" class="btn btn-xs btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'),b.b("\n"+a),b.b('		    <span class="caret"></span>'),b.b("\n"+a),b.b('		    <span class="sr-only">Toggle Dropdown</span>'),b.b("\n"+a),b.b("		  </button>"),b.b("\n"+a),b.b('		  <ul class="dropdown-menu dropdown-menu-right">'),b.b("\n"+a),b.b("		    "),b.s(b.d("options.hasEdit",t,n,1),t,n,0,512,635,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b('<li><a href="javascript:void(0);" data-event="edit" data-id="'),a.b(a.v(a.f("start",t,n,0))),a.b("id"),a.b(a.v(a.f("end",t,n,0))),a.b('"><i class="fa fa-pencil"></i> Edit</a></li>')}),t.pop()),b.b("\n"+a),b.b("		    "),b.s(b.d("options.hasDelete",t,n,1),t,n,0,684,810,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.b('<li><a href="javascript:void(0);" data-event="delete" data-id="'),a.b(a.v(a.f("start",t,n,0))),a.b("id"),a.b(a.v(a.f("end",t,n,0))),a.b('"><i class="fa fa-times"></i> Delete</a></li>')}),t.pop()),b.b("\n"+a),b.b("		  </ul>"),b.b("\n"+a),b.b("		</div> -->"),b.b("\n"+a),b.b('		<input type="checkbox" '),b.b(b.v(b.f("start",t,n,0))),b.b("#checked"),b.b(b.v(b.f("end",t,n,0))),b.b('checked="checked"'),b.b(b.v(b.f("start",t,n,0))),b.b("/checked"),b.b(b.v(b.f("end",t,n,0))),b.b(' data-event="mark" style="margin: 0 8px 0 4px;">&nbsp;<div class="btn-group">'),b.b("\n"+a),b.b("   	</td>"),b.b("\n"),b.b("\n"+a)}),t.pop()),b.s(b.f("items",t,n,1),t,n,0,1072,1170,"{{ }}")&&(b.rs(t,n,function(t,n,b){b.b("	"),b.s(b.f("visible",t,n,1),t,n,0,1086,1156,"{{ }}")&&(b.rs(t,n,function(t,n,a){a.s(a.f("isEnabled",t,n,1),t,n,0,1100,1142,"{{ }}")&&(a.rs(t,n,function(t,n,a){a.b('<td style="min-width:85px">'),a.b(a.t(a.f("name",t,n,0))),a.b("</td>")}),t.pop())}),t.pop()),b.b("\n"+a)}),t.pop()),b.b("</tr>"),b.fl()},partials:{},subs:{}});
